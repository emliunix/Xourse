<!doctype html>
<html ng-app="myIndexPage">
	<head>
		<title>LayOut</title>
		<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
		<link rel="stylesheet" href="front_frame/angular-material/angular-material.css" />
		<link rel="stylesheet" href="css/index.css" />
	</head>
	<body>
		<div layout="row" layout-sm="column"  layout-fill ng-cloak ng-controller="pageCtrl">
			<md-sidenav  md-component-id="left" class="md-sidenav-left md-whiteframe-z2 lhs_stu_navbar"  
					md-is-locked-open="$mdMedia('gt-sm')" layout-fill>
				<header layout-align="center center" layout="column">
					<a ng-href="/" class="lhs_logo">
						<img src="front_frame/angular-material/img/icons/angular-logo.svg" alt="" width="120" height="120"/>
						<div>学生管理平台</div>
					</a>
				</header>
				<div>
					<!-- 菜单部分 -->
					<div layout="column">
						<ul class="lhs_menu">
							<li ng-repeat="item in menu"><a ng-href="{{item.href}}">{{item.text}}</a></li>
						</ul>
					</div>
					
					<!--关闭按钮，当屏幕为手机大小-->
					<div flex="grow" layout-align="end end" layout="row">
						<md-button  class="md-primary"  hide-gt-sm ng-click="close()">
							<span style="color:white">关闭菜单</span>
						</md-button>
					</div>
				</div>
			</md-sidenav>
			
			<md-content flex class="lhs_stu_content contentL" layout-fill ng-cloak>
				<!-- 页头部分 -->
				<md-toolbar class="md-toolbar-tools toolhead">
					<md-button class="md-icon-button" aria-label="Settings" show-sm hide-gt-sm ng-click="openLeftMenu()">
						&gt;&gt;
					</md-button>
					<md-fab-speed-dial md-open="false" md-direction="right" ng-class="'md-scale'" class="fab_dial">
						<md-fab-trigger>
							<md-button aria-label="menu" class="md-fab fab_main" style="background:rgb(63,100,210);">
								<md-icon md-svg-src="front_frame/angular-material/img/icons/menu.svg"></md-icon>
							</md-button>
						</md-fab-trigger>
						<md-fab-actions>
							<md-button aria-label="info" class="md-fab md-raised md-mini">
								<md-tooltip md-direction="bottom" md-autohide="false">
											修改个人信息
								</md-tooltip>
								<md-icon md-svg-src="social:people-outline" style="color:blue" aria-label="info"></md-icon>
							</md-button>
							<md-button aria-label="pwd" class="md-fab md-raised md-mini">
								<md-tooltip md-direction="bottom" md-autohide="false">
											修改密码
								</md-tooltip>
								<md-icon md-svg-src="social:notifications-on"style="color:blue" aria-label="pwd"></md-icon>
							</md-button>
							<md-button aria-label="motto" class="md-fab md-raised md-mini">
								<md-tooltip md-direction="bottom" md-autohide="false">
											添加个性签名
								</md-tooltip>
								<md-icon md-svg-src="social:share" aria-label="motto" style="color:blue"></md-icon>
							</md-button>
						</md-fab-actions>
					</md-fab-speed-dial>
					
					<span flex="15"></span>
					<h2 hide-sm show-gt-sm flex="20">
						<span>欢迎您，{{username}}！</span>
					</h2>
					<div flex layout="row" layout-align="end center">
						<md-button ng-click="logout()">
							[退出]
						</md-button>
					</div>
				</md-toolbar>
				
				<!--悬浮菜单-->
				 <md-fab-toolbar md-open="false" count="0" md-direction="left" style="display:none;position:fixed;right:20px;top:10px;z-index:9999;" id="fab_toolb">
					<md-fab-trigger class="align-with-text">
 						<md-button aria-label="menu" class="md-fab md-primary">
							<md-icon md-svg-src="front_frame/angular-material/img/icons/menu.svg"></md-icon>
						</md-button>
					</md-fab-trigger>
					<md-toolbar>
						<md-fab-actions class="md-toolbar-tools">
							<md-button ng-click="logout()">
								[退出]
							</md-button>
							<md-button aria-label="motto" class="md-fab md-raised md-mini">
								<md-icon md-svg-src="social:share" aria-label="motto" style="color:blue"></md-icon>
							</md-button>
							<md-button aria-label="pwd" class="md-fab md-raised md-mini">
								<md-icon md-svg-src="social:notifications-on"style="color:blue" aria-label="pwd"></md-icon>
							</md-button>
							<md-button aria-label="info" class="md-fab md-raised md-mini">
								<md-icon md-svg-src="social:people-outline" style="color:blue" aria-label="info"></md-icon>
							</md-button>
						</md-fab-actions>
					</md-toolbar>
				</md-fab-toolbar>
				
				<!-- 主体部分 -->
				<md-content layout="column" ng-view>

				</md-content>
			</md-content>

		</div>
		
		
		<script src="front_frame/jquery2.js"></script>
		
		<script src="front_frame/angular/angular.js"></script>			
		<script src="front_frame/angular/angular-aria.js"></script>
		<script src="front_frame/angular/angular-animate.min.js"></script>
		<script src="front_frame/angular/angular-route.min.js"></script>
		<script src="front_frame/angular-material/angular-material.js"></script>
		
		<script src="js/index.js"></script>
		
		<script>
			$(document).ready(function(){
				$('.contentL').scroll(function(){  
					var vtop=$('.contentL').scrollTop();
					if(70<=vtop){
						if($('#fab_toolb').is(':hidden'))
							$('#fab_toolb').fadeIn();
					}else{
						if(!$('#fab_toolb').is(':hidden'))
							$('#fab_toolb').hide();
					}
				});
			});
		</script>

		<script>
			
			/*******AppModule.js*********/
			var myIndexPage=angular.module('myIndexPage',['ngRoute','appControllers', 'ngAnimate']);
			
			myIndexPage.config(['$routeProvider','$mdIconProvider',function($routeProvider,$mdIconProvider){
				$mdIconProvider
					.iconSet('social', 'front_frame/angular-material/img/icons/sets/social-icons.svg', 24)
					.defaultIconSet('front_frame/angular-material/img/icons/sets/core-icons.svg', 24);
				
				$routeProvider.
					/***学生路由*****/
					when('/welcome',{              //欢迎界面   
						templateUrl:'welcome/stu_welcome.html',
						controller:'welcomeCtrl'
					}).
					when('/readnews',{              //看新闻     
						templateUrl:'news/news.html',
						controller:'newsCtrl'
					}).
					when('/chooseSubject',{			//选课、退课
						templateUrl:'student/chooseSub.html',
						controller:'chooseSubjectCtrl'
					}).
					when('/querySubject',{			//查询选课情况
						templateUrl:'student/querySub.html',
						controller:'querySubjectCtrl'
					}).
					when('/ext/queryHubuScore',{      //查询湖大成绩
						templateUrl:'student/queryHubuScore.html',
						controller:'queryHubuScoreCtrl'
					}).
					when('/ext/queryHubuCurriculum',{    //查询湖大课程表
						templateUrl:'student/queryHubuCur.html',
						controller:'queryHubuCurCtrl'
					}).
					/****教师路由****/
					when('/teachSubject',{            //教师选课
						templateUrl:'teacher/teacheSub.html',
						controller:'teacheSubCtrl'
					}).
					when('/assessScore',{        	   //教师打平时成绩与考试成绩
						templateUrl:'teacher/accessScore.html',
						controller:'accessScoreCtrl'
					}).
					otherwise({
						redirectTo:'/welcome'
					});				
			}]);
		
	
			/********AppControllers.js*******/
			var appControllers=angular.module('appControllers',['ngMaterial']);
			
			
			appControllers.controller('pageCtrl',['$scope','$mdSidenav',function($scope,$mdSidenav){
				 $scope.username="liuhongsen";
				 
				 $scope.menu=[
					 //学生部分
					 {'href':'#/welcome','text':'首页'},
					 {'href':'#/readnews','text':'查看新闻'},
					 {'href':'#/chooseSubject','text':'选课与退课'},
					 {'href':'#/querySubject','text':'查询课程信息'},
					 {'href':'#/ext/queryHubuScore','text':'湖大考试成绩'},
					 {'href':'#/ext/queryHubuCurriculum','text':'湖大课程表'},
					 //教师部分
					 {'href':'#/teachSubject','text':'教授课程'},
					 {'href':'#/assessScore','text':'成绩结算'}
					 
				  ];

			     $scope.openLeftMenu =function(){
					 $mdSidenav('left').toggle();
				 };
				 $scope.close=function(){
					 $mdSidenav('left').close();
				 };
				
				//注销操作
				$scope.logout=function(){
					alert(1);
				}
				 
			}]);
			
			
			/****************************教师**************************/
			appControllers.controller('teacheSubCtrl',['$scope','$mdSidenav','$log',function($scope,$mdSidenav,$log){

			}]);
			
			appControllers.controller('accessScoreCtrl',['$scope','$mdSidenav','$log',function($scope,$mdSidenav,$log){

			}]);
			
			
			
			/**************************** 学生 ********************************/
			//欢迎界面
			appControllers.controller('welcomeCtrl',['$scope','$mdSidenav','$log',function($scope,$mdSidenav,$log){
					$scope.imagePath='image/bkg1.jpg';
			}]);
			
			//看新闻
			appControllers.controller('newsCtrl',['$scope','$mdSidenav','$log',function($scope,$mdSidenav,$log){

			}]);
			
			//选课、退课
			appControllers.controller('chooseSubjectCtrl',['$scope',function($scope){
				
			}]);
			
			//查询选课情况
			appControllers.controller('querySubjectCtrl',['$scope',function($scope){
				
			}]);
			
			//查询湖大成绩
			appControllers.controller('queryHubuScoreCtrl',['$scope',function($scope){
				
			}]);
			
			//查询湖大课程表
			appControllers.controller('queryHubuCurCtrl',['$scope',function($scope){
				
			}]);
		</script>
	</body>
</html>