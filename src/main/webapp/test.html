<!doctype html>
<html ng-app="app" ng-controller="ctrl" lang="zh-cn" ng-strict-di>

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <!--base href="/"-->
  <title>
    Angular Material
  </title>
  <link rel="icon" type="image/x-icon" href="favicon.ico" />
  <meta name="viewport" content="initial-scale=1" />
  <!--<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,400italic">-->
  <link rel="stylesheet" href="front_frame/angular-material/angular-material.css">
</head>

<body ng-cloak>
  <ul>
    <li ng-repeat="user in users">
      {{user.id}}: {{user.username}} -- {{user.role}}
    </li>
  </ul>

  <script src="front_frame/angular/angular.js"></script>
  <script src="front_frame/angular/angular-resource.js"></script>
  <script src="front_frame/angular/angular-animate.js"></script>
  <script src="front_frame/angular/angular-route.js"></script>
  <script src="front_frame/angular/angular-aria.js"></script>
  <script src="front_frame/angular/angular-messages.js"></script>
  <script src="front_frame/angular-material/angular-material.js"></script>

  <script>
    var app = angular.module("app", ["ngMaterial", "ngResource"]);
    app.controller("ctrl", ["$resource", "$scope", function($resource, $scope) {
      var User = $resource("http://localhost:8080/api/user/:id", {"id": "@id"}, {
        "get": {method: "GET", isArray: true, transformResponse: function(data, header) {
          var d = angular.fromJson(data);
          if(d.status === true) {
            d = d.users;
            return d;
          }
          return null;
        }}
      });
      $scope.users = User.get();
    }]);
  </script>

</body>

</html>